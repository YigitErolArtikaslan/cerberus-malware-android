# cerberus-malware-android

Ubuntu 18.04 ve/veya 20.04 üzerinde kurulum gerçekleştirilebilir.
Kurulum betiği üzerinde ufak yapılandırmalar yapabilirsiniz, belirli etik kuralları oturmamış kişilere hizmet vermemek adına kurulum betiğini güncel olmadan paylaştım.
Kurulum betiği büyük ölçüde takip edilebilir. Emilatör için kullanımda zorunlu olarak ek bir  fudlama işlemine ihtiyacınız olacaktır.

Accessbility ve phishing dosyalarını kaldırdım. Malware analizi gerçekleştirmek adına daha uyumlu bir hale getirdim.

# Kurulum için
```
https://github.com/dgoulet/torsocks
```
PHP kodu nginx arkasında çalışır ve http üzerinden hizmet verir.
İstemci ve sunucu http üzerinden iletişim kurar. 

## Mysql kullanıcı oluşturmak için:
```
mysql -uroot — password=”$password” -e “'$password' TARAFINDAN TANIMLANAN 'root olmayan'@'localhost' KULLANICI OLUŞTUR;”
```
```
mysql -uroot — password=”$password” -e “*.* ÜZERİNDEKİ TÜM AYRICALIKLARI 'root olmayan'@'localhost' İÇİN VERİN;”
```


# KOD Analizi

## RCE vulnerabilities in the panel app

```
export function try_eval(command) {
  //console.log(“Called: “ + command);
  eval(‘try {‘ + command + ‘} catch (err) { console.log(“Error: “ + err ) } ‘);
}
```

## Weak Encryption Algorithm
```
return base64_encode(bin2hex(RC4Crypt::encrypt_($key, $string)));
```
## XSS Vulnerabilities in panel
```
<tr>
  <td>
  other: <textarea type=”text” name=”other” cols=”40" rows=”5"><?php echo $userdata[‘other’]; ?></textarea>
  </td>
</tr>
<tr>
  <td>
  end_subscribe: <input type=”text” name=”end_subscribe” value=”<?php echo $userdata[‘end_subscribe’]; ?>”>
  </td>
</tr>
```

```
echo “<tr><td>”.
$data[“ID”] . “</td><td>” .
“<textarea readonly>”.$data[“privatekey”] . “</textarea></td><td>” .
$data[“contact”] . “</td><td>” .
“<textarea readonly>” . $data[“serverinfo”] . “</textarea></td><td>” .
$data[“domain”] . “</td><td>” .
```

## Others Vulnerabilities
Reverse haberleşmeden dolayı restapi.php üzerinden gelen key bilgileri bypass edilebilir.

 ![2](https://user-images.githubusercontent.com/101067919/156980379-dd9fc9a3-618a-4ffe-b075-31e13503298a.png)
